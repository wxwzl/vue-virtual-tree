import{d as D,r as c,c as V,a as t,b as x,w as m,v,u as n,i as N,e as w,o as F}from"./index-L1AIuwbq.js";import{V as I,_ as R}from"./VirtualTree-CsjfhadD.js";import{u as B}from"./useDemoTree-CblWT8XI.js";import"./treeData-Bp8ZcB8u.js";const G={class:"demo-section"},U={class:"control-panel"},E={class:"control-label"},L={class:"tree-container"},M={class:"tree-shell"},j=D({__name:"FilterDemo",setup(q){const o=c(null),s=c(""),a=c(!1);let r=null,i=0;const{treeData:_,isLoading:h,nodeCount:u,regenerateData:g,handleCountChange:C,handleDataGenerated:T}=B({initialCount:5e3}),f=async l=>{if(!o.value){a.value=!1;return}try{await o.value.filter(s.value)}finally{l===i&&(a.value=!1)}},y=()=>{if(!o.value)return;a.value=!0,r&&clearTimeout(r);const l=++i;r=setTimeout(()=>{f(l)},250)},p=()=>{if(!s.value){a.value=!1;return}const l=++i;a.value=!0,f(l)},b=async()=>{await C(),p()},k=async()=>{await g(),p()};return(l,e)=>(F(),V("div",G,[e[3]||(e[3]=t("h2",null,"过滤",-1)),t("div",U,[t("label",E,[e[2]||(e[2]=x(" 节点数量： ",-1)),m(t("input",{type:"number",min:"1000",step:"1000","onUpdate:modelValue":e[0]||(e[0]=d=>N(u)?u.value=d:null),onChange:b},null,544),[[v,n(u),void 0,{number:!0}]])]),t("button",{class:"btn",onClick:k},"重新生成")]),t("div",L,[t("div",M,[m(t("input",{"onUpdate:modelValue":e[1]||(e[1]=d=>s.value=d),placeholder:"输入关键字过滤",onInput:y,class:"filter-input"},null,544),[[v,s.value]]),w(n(I),{loading:n(h)||a.value,ref_key:"treeRef",ref:o,data:n(_),class:"tree-scroll",onNodeGenerated:n(T)},null,8,["loading","data","onNodeGenerated"])])])]))}}),K=R(j,[["__scopeId","data-v-8241c86f"]]);export{K as default};
