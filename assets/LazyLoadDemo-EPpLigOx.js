import{V as z,_ as L}from"./VirtualTree-ibJf4_9g.js";import{d as b,r as f,c as o,a as l,b as m,e as v,f as _,u as p,F as g,g as h,t as k,o as n}from"./index-BxG2T1Iq.js";const D={class:"demo-section"},V={class:"tree-container"},$={class:"tree-shell"},x={key:0,class:"lazy-log"},T=b({__name:"LazyLoadDemo",setup(C){const r=f([{id:"lazy-1",label:"懒加载节点 1",isLeaf:!1},{id:"lazy-2",label:"懒加载节点 2",isLeaf:!1},{id:"lazy-3",label:"懒加载节点 3",isLeaf:!1},{id:"lazy-4",label:"懒加载节点 4",isLeaf:!1}]),s=f([]),d=e=>{const a=new Date().toLocaleTimeString();s.value.unshift(`[${a}] ${e}`),s.value.length>20&&(s.value=s.value.slice(0,20))},u=()=>{s.value=[]},c=(e,a)=>{d(`开始加载节点: ${e.label||e.id}`),setTimeout(()=>{const i=e.id;let t=[];if(i==="lazy-1")t=[{id:"lazy-1-1",label:"懒加载子节点 1-1",isLeaf:!0},{id:"lazy-1-2",label:"懒加载子节点 1-2",isLeaf:!0},{id:"lazy-1-3",label:"懒加载子节点 1-3",isLeaf:!1}];else if(i==="lazy-2")t=[{id:"lazy-2-1",label:"懒加载子节点 2-1",isLeaf:!0},{id:"lazy-2-2",label:"懒加载子节点 2-2",isLeaf:!0},{id:"lazy-2-3",label:"懒加载子节点 2-3",isLeaf:!0},{id:"lazy-2-4",label:"懒加载子节点 2-4",isLeaf:!0}];else if(i==="lazy-3"){d(`加载节点失败: ${e.label||e.id}`),a([]);return}else i==="lazy-4"?t=[{id:"lazy-4-1",label:"懒加载子节点 4-1",isLeaf:!0}]:i==="lazy-1-3"&&(t=[{id:"lazy-1-3-1",label:"懒加载孙节点 1-3-1",isLeaf:!0},{id:"lazy-1-3-2",label:"懒加载孙节点 1-3-2",isLeaf:!0}]);d(`加载完成: ${e.label||e.id} -> ${t.length} 个子节点`),a(t)},Math.random()*1e3+500)},y=()=>{r.value=[{id:"lazy-1",label:"懒加载节点 1",isLeaf:!1},{id:"lazy-2",label:"懒加载节点 2",isLeaf:!1},{id:"lazy-3",label:"懒加载节点 3",isLeaf:!1},{id:"lazy-4",label:"懒加载节点 4",isLeaf:!1}],s.value=[]};return(e,a)=>(n(),o("div",D,[a[1]||(a[1]=l("h2",null,"子节点懒加载",-1)),a[2]||(a[2]=l("div",{class:"info-box"},[l("p",null,[l("strong",null,"说明："),v("演示懒加载功能，点击展开图标时异步加载子节点")]),l("ul",null,[l("li",null,"根节点预设为可展开状态，但没有预加载子节点"),l("li",null,"点击展开时触发load回调函数异步获取子节点"),l("li",null,"支持加载状态显示和错误处理")])],-1)),l("div",V,[l("div",$,[_(p(z),{data:r.value,class:"tree-scroll",lazy:"",load:c},null,8,["data"])])]),l("div",{class:"control-panel"},[l("button",{onClick:y,class:"btn"},"重置懒加载数据")]),s.value.length>0?(n(),o("div",x,[a[0]||(a[0]=l("h3",null,"懒加载日志：",-1)),(n(!0),o(g,null,h(s.value,(i,t)=>(n(),o("div",{class:"log-item",key:t},k(i),1))),128)),l("button",{onClick:u,class:"btn btn-small"},"清空日志")])):m("",!0)]))}}),F=L(T,[["__scopeId","data-v-a3f0ddd2"]]);export{F as default};
