import{d as V,r as f,c as w,a as e,b as x,w as r,v as _,u as s,i as D,j as h,g as F,o as I}from"./index-C5EC9bir.js";import{V as N,_ as R}from"./VirtualTree-CLMOwxGI.js";import{u as B}from"./useDemoTree-DOyIGL-m.js";import"./treeData-Bp8ZcB8u.js";const U={class:"demo-section"},j={class:"control-panel"},E={class:"control-label"},L={class:"tree-container"},M={class:"tree-shell"},S={class:"loading"},q=V({__name:"FilterDemo",setup(z){const n=f(null),o=f(""),a=f(!1);let i=null,u=0;const{treeData:g,isLoading:v,nodeCount:d,regenerateData:C,handleCountChange:T}=B({initialCount:5e3}),p=async l=>{if(!n.value){a.value=!1;return}try{await n.value.filter(o.value)}finally{l===u&&(a.value=!1)}},y=()=>{if(!n.value)return;a.value=!0,i&&clearTimeout(i);const l=++u;i=setTimeout(()=>{p(l)},250)},m=()=>{if(!o.value){a.value=!1;return}const l=++u;a.value=!0,p(l)},b=async()=>{await T(),m()},k=async()=>{await C(),m()};return(l,t)=>(I(),w("div",U,[t[3]||(t[3]=e("h2",null,"过滤",-1)),e("div",j,[e("label",E,[t[2]||(t[2]=x(" 节点数量： ",-1)),r(e("input",{type:"number",min:"1000",step:"1000","onUpdate:modelValue":t[0]||(t[0]=c=>D(d)?d.value=c:null),onChange:b},null,544),[[_,s(d),void 0,{number:!0}]])]),e("button",{class:"btn",onClick:k},"重新生成")]),e("div",L,[e("div",M,[r(e("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>o.value=c),placeholder:"输入关键字过滤",onInput:y,class:"filter-input"},null,544),[[_,o.value]]),r(F(s(N),{ref_key:"treeRef",ref:n,data:s(g),class:"tree-scroll"},null,8,["data"]),[[h,!s(v)&&!a.value]]),r(e("div",S,"数据加载中...",512),[[h,s(v)||a.value]])])])]))}}),K=R(q,[["__scopeId","data-v-f7d95629"]]);export{K as default};
