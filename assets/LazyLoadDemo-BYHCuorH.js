import{V as z,_ as L}from"./VirtualTree-DWp-WEMZ.js";import{d as b,r as u,c as n,a,f as m,g as v,h as g,u as p,F as _,i as h,t as k,e as o}from"./index-DxXrj-0e.js";const D={class:"demo-section"},V={class:"tree-container"},$={key:0,class:"lazy-log"},x=b({__name:"LazyLoadDemo",setup(T){const r=u([{id:"lazy-1",label:"懒加载节点 1",isLeaf:!1},{id:"lazy-2",label:"懒加载节点 2",isLeaf:!1},{id:"lazy-3",label:"懒加载节点 3",isLeaf:!1},{id:"lazy-4",label:"懒加载节点 4",isLeaf:!1}]),s=u([]),d=e=>{const l=new Date().toLocaleTimeString();s.value.unshift(`[${l}] ${e}`),s.value.length>20&&(s.value=s.value.slice(0,20))},f=()=>{s.value=[]},y=(e,l)=>{d(`开始加载节点: ${e.label||e.id}`),setTimeout(()=>{const i=e.id;let t=[];if(i==="lazy-1")t=[{id:"lazy-1-1",label:"懒加载子节点 1-1",isLeaf:!0},{id:"lazy-1-2",label:"懒加载子节点 1-2",isLeaf:!0},{id:"lazy-1-3",label:"懒加载子节点 1-3",isLeaf:!1}];else if(i==="lazy-2")t=[{id:"lazy-2-1",label:"懒加载子节点 2-1",isLeaf:!0},{id:"lazy-2-2",label:"懒加载子节点 2-2",isLeaf:!0},{id:"lazy-2-3",label:"懒加载子节点 2-3",isLeaf:!0},{id:"lazy-2-4",label:"懒加载子节点 2-4",isLeaf:!0}];else if(i==="lazy-3"){d(`加载节点失败: ${e.label||e.id}`),l([]);return}else i==="lazy-4"?t=[{id:"lazy-4-1",label:"懒加载子节点 4-1",isLeaf:!0}]:i==="lazy-1-3"&&(t=[{id:"lazy-1-3-1",label:"懒加载孙节点 1-3-1",isLeaf:!0},{id:"lazy-1-3-2",label:"懒加载孙节点 1-3-2",isLeaf:!0}]);d(`加载完成: ${e.label||e.id} -> ${t.length} 个子节点`),l(t)},Math.random()*1e3+500)},c=()=>{r.value=[{id:"lazy-1",label:"懒加载节点 1",isLeaf:!1},{id:"lazy-2",label:"懒加载节点 2",isLeaf:!1},{id:"lazy-3",label:"懒加载节点 3",isLeaf:!1},{id:"lazy-4",label:"懒加载节点 4",isLeaf:!1}],s.value=[]};return(e,l)=>(o(),n("div",D,[l[1]||(l[1]=a("h2",null,"子节点懒加载",-1)),l[2]||(l[2]=a("div",{class:"info-box"},[a("p",null,[a("strong",null,"说明："),v("演示懒加载功能，点击展开图标时异步加载子节点")]),a("ul",null,[a("li",null,"根节点预设为可展开状态，但没有预加载子节点"),a("li",null,"点击展开时触发load回调函数异步获取子节点"),a("li",null,"支持加载状态显示和错误处理")])],-1)),a("div",V,[g(p(z),{data:r.value,height:400,lazy:"",load:y},null,8,["data"])]),a("div",{class:"control-panel"},[a("button",{onClick:c,class:"btn"},"重置懒加载数据")]),s.value.length>0?(o(),n("div",$,[l[0]||(l[0]=a("h3",null,"懒加载日志：",-1)),(o(!0),n(_,null,h(s.value,(i,t)=>(o(),n("div",{class:"log-item",key:t},k(i),1))),128)),a("button",{onClick:f,class:"btn btn-small"},"清空日志")])):m("",!0)]))}}),B=L(x,[["__scopeId","data-v-19dc978e"]]);export{B as default};
