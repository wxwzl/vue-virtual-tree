import{d as x,r as c,c as v,a as t,b as w,e as F,w as _,v as h,u as a,i as I,t as R,f as B,o as g}from"./index-CdbnEtOD.js";import{V as G,_ as L}from"./VirtualTree-DJQ7n5r_.js";import{u as S}from"./useDemoTree-wcEhM3aG.js";import"./treeData-5pDBKKP_.js";const U={class:"demo-section"},E={class:"control-panel"},M={class:"control-label"},j={key:0,class:"node-count-info"},q={class:"tree-container"},z={class:"tree-shell"},A=x({__name:"FilterDemo",setup(H){const l=c(null),s=c(""),n=c(!1);let r=null,i=0;const{treeData:C,isLoading:y,nodeCount:u,totalNodeCount:f,regenerateData:T,handleCountChange:k,handleDataGenerated:D}=S({initialCount:1e3}),p=async o=>{if(!l.value){n.value=!1;return}try{await l.value.filter(s.value)}finally{o===i&&(n.value=!1)}},N=()=>{if(!l.value)return;n.value=!0,r&&clearTimeout(r);const o=++i;r=setTimeout(()=>{p(o)},250)},m=()=>{if(!s.value){n.value=!1;return}const o=++i;n.value=!0,p(o)},V=async()=>{await k(),m()},b=async()=>{await T(),m()};return(o,e)=>(g(),v("div",U,[e[3]||(e[3]=t("h2",null,"过滤",-1)),t("div",E,[t("label",M,[e[2]||(e[2]=F(" 节点数量： ",-1)),_(t("input",{type:"number",min:"1000",step:"1000","onUpdate:modelValue":e[0]||(e[0]=d=>I(u)?u.value=d:null),onChange:V},null,544),[[h,a(u),void 0,{number:!0}]])]),t("button",{class:"btn",onClick:b},"重新生成"),a(f)>0?(g(),v("span",j,"总节点数："+R(a(f).toLocaleString()),1)):w("",!0)]),t("div",q,[t("div",z,[_(t("input",{"onUpdate:modelValue":e[1]||(e[1]=d=>s.value=d),placeholder:"输入关键字过滤",onInput:N,class:"filter-input"},null,544),[[h,s.value]]),B(a(G),{loading:a(y)||n.value,ref_key:"treeRef",ref:l,data:a(C),class:"tree-scroll",onNodeGenerated:a(D)},null,8,["loading","data","onNodeGenerated"])])])]))}}),Q=L(A,[["__scopeId","data-v-4a3f64e0"]]);export{Q as default};
