import{d as F,r as i,k as R,c as T,a as t,e as g,w as N,v as k,l as E,m as G,b as q,t as S,f as O,u as j,o as V}from"./index-D-9a5PQ9.js";import{V as z,_ as A}from"./VirtualTree-cTYaKN3L.js";import{a as H}from"./treeData-5pDBKKP_.js";const J={class:"demo-section"},P={class:"control-panel"},Q={class:"scroll-controls"},W={class:"control-group"},X={class:"control-label"},Y={class:"control-group"},Z={class:"control-label"},$={class:"control-group"},ee={class:"control-label"},te={class:"data-controls"},le={class:"control-group"},oe={class:"control-label"},ne={class:"info-panel"},se={class:"info-item"},ae={class:"info-value"},re={key:0,class:"info-item"},ie={class:"info-value"},ue={class:"tree-container"},ce={class:"tree-shell"},de=F({__name:"ScrollToNodeDemo",setup(ve){const f=i(null),n=i([]),_=i(!0),D=i(0),h=i(2e3),s=i(""),u=i("top"),c=i(0),C=i(null),y=async o=>{_.value=!0;const e=h.value,l=await H(e);n.value=l.data,D.value=l.totalCount},x=async()=>{await y()},I=async()=>{h.value<100&&(h.value=100),await y()},w=()=>{_.value=!1},p=()=>{if(!f.value||!s.value)return;const o=s.value.trim(),e=isNaN(Number(o))?o:Number(o);try{f.value.scrollToNode(e,{align:u.value,offset:c.value}),C.value=e}catch(l){console.error("滚动失败:",l)}},M=()=>{if(!f.value||n.value.length===0)return;const e=(a=>{const m=[],r=d=>{d.forEach(v=>{m.push(v.id),v.children&&v.children.length>0&&r(v.children)})};return r(a),m})(n.value);if(e.length===0)return;const l=e[Math.floor(Math.random()*e.length)];s.value=String(l),u.value="center",c.value=0,p()},U=()=>{if(!f.value||n.value.length===0)return;let o=null,e=-1;const l=2,a=(m,r=0)=>{for(const d of m)r>=l&&r>e&&(o=d,e=r),d.children&&d.children.length>0&&a(d.children,r+1)};if(a(n.value),o)s.value=String(o.id),u.value="center",c.value=0,p();else{const r=(d=>{for(const v of d)if(v.children&&v.children.length>0){const b=v.children[0];return b&&b.children&&b.children.length>0?b.children[0]:b}return null})(n.value);r&&(s.value=String(r.id),u.value="center",c.value=0,p())}},K=()=>{if(!f.value||n.value.length===0)return;const o=n.value[0];o&&(s.value=String(o.id),u.value="top",c.value=0,p())},L=()=>{if(!f.value||n.value.length===0)return;const o=l=>{if(l.length===0)return null;const a=l[l.length-1];return a.children&&a.children.length>0&&o(a.children)||a},e=o(n.value);e&&(s.value=String(e.id),u.value="bottom",c.value=0,p())},B=o=>{s.value=String(o.id)};return R(()=>{y()}),(o,e)=>(V(),T("div",J,[e[12]||(e[12]=t("h2",null,"滚动到指定节点",-1)),t("div",P,[t("div",Q,[t("div",W,[t("label",X,[e[4]||(e[4]=g(" 节点 ID： ",-1)),N(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=l=>s.value=l),placeholder:"输入节点 ID，如: 100, 200, 300",class:"input",onKeyup:E(p,["enter"])},null,544),[[k,s.value]])])]),t("div",Y,[t("label",Z,[e[6]||(e[6]=g(" 对齐方式： ",-1)),N(t("select",{"onUpdate:modelValue":e[1]||(e[1]=l=>u.value=l),class:"select"},[...e[5]||(e[5]=[t("option",{value:"top"},"顶部对齐",-1),t("option",{value:"center"},"居中",-1),t("option",{value:"bottom"},"底部对齐",-1)])],512),[[G,u.value]])])]),t("div",$,[t("label",ee,[e[7]||(e[7]=g(" 偏移量： ",-1)),N(t("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=l=>c.value=l),placeholder:"0",class:"input-number"},null,512),[[k,c.value,void 0,{number:!0}]])])]),t("button",{class:"btn btn-primary",onClick:p},"滚动到节点")]),t("div",{class:"quick-actions"},[e[8]||(e[8]=t("span",{class:"label"},"快速测试：",-1)),t("button",{class:"btn btn-small",onClick:M},"随机节点"),t("button",{class:"btn btn-small",onClick:U},"深层节点"),t("button",{class:"btn btn-small",onClick:K},"第一个节点"),t("button",{class:"btn btn-small",onClick:L},"最后一个节点")]),t("div",te,[t("div",le,[t("label",oe,[e[9]||(e[9]=g(" 节点数量： ",-1)),N(t("input",{type:"number",min:"100",step:"100","onUpdate:modelValue":e[3]||(e[3]=l=>h.value=l),onChange:I,class:"input-number"},null,544),[[k,h.value,void 0,{number:!0}]])])]),t("button",{class:"btn btn-secondary",onClick:x},"重新生成")]),t("div",ne,[t("div",se,[e[10]||(e[10]=t("span",{class:"info-label"},"总节点数：",-1)),t("span",ae,S(D.value.toLocaleString()),1)]),C.value?(V(),T("div",re,[e[11]||(e[11]=t("span",{class:"info-label"},"上次滚动到：",-1)),t("span",ie,S(C.value),1)])):q("",!0)])]),t("div",ue,[t("div",ce,[O(j(z),{ref_key:"treeRef",ref:f,data:n.value,loading:_.value,class:"tree-scroll",onNodeGenerated:w,onNodeClick:B},null,8,["data","loading"])])])]))}}),he=A(de,[["__scopeId","data-v-af6a2240"]]);export{he as default};
